<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GYMMMER ‚Ä¢ Full Workout Hub</title>
  <meta name="description" content="GYMMMER: Comprehensive workout guides, videos, and articles for gym and home workouts. Expert tips, routines, and resources.">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
      color: #333;
      line-height: 1.6;
      min-height: 100vh;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    .container {
      max-width: 1000px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    
    header {
      background: linear-gradient(45deg, #3B82F6, #10B981, #F59E0B);
      padding: 30px;
      text-align: center;
      color: white;
      position: relative;
    }
    
    .logo {
      font-size: 3.5rem;
      margin-bottom: 10px;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    }
    
    h1 {
      font-size: 2.8rem;
      margin-bottom: 10px;
      letter-spacing: 1px;
      text-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);
    }
    
    .tagline {
      font-size: 1.2rem;
      opacity: 0.9;
      max-width: 600px;
      margin: 0 auto;
    }
    
    .content {
      padding: 40px;
      display: grid;
      grid-template-columns: 1fr;
      gap: 30px;
    }
    
    @media (min-width: 768px) {
      .content {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    .problem, .solution {
      background: white;
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      transition: transform 0.3s ease;
    }
    
    .problem:hover, .solution:hover {
      transform: translateY(-5px);
    }
    
    h2 {
      color: #3B82F6;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #10B981;
      font-size: 1.8rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    h2 i {
      color: #F59E0B;
    }
    
    .issue-list {
      margin: 20px 0;
      padding-left: 25px;
    }
    
    .issue-list li {
      margin-bottom: 15px;
      position: relative;
      padding-left: 30px;
    }
    
    .issue-list li:before {
      content: "‚ö†Ô∏è";
      position: absolute;
      left: 0;
      top: 2px;
      font-size: 1.2rem;
    }
    
    .solution-points {
      margin: 20px 0;
    }
    
    .point {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      align-items: flex-start;
    }
    
    .point-icon {
      background: #10B981;
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-shrink: 0;
      font-size: 1.2rem;
    }
    
    .code-block {
      background: #1F2937;
      color: #F3F4F6;
      border-radius: 10px;
      padding: 20px;
      margin: 25px 0;
      overflow-x: auto;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      line-height: 1.5;
    }
    
    .code-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      color: #F59E0B;
      font-size: 0.9rem;
    }
    
    .copy-btn {
      background: #3B82F6;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }
    
    .copy-btn:hover {
      background: #2563EB;
    }
    
    .cookie-demo {
      background: #1F2937;
      border-radius: 10px;
      padding: 30px;
      margin-top: 20px;
      position: relative;
      overflow: hidden;
    }
    
    .cookie-content {
      position: relative;
      z-index: 2;
      color: white;
    }
    
    .cookie-title {
      font-size: 1.5rem;
      margin-bottom: 15px;
      color: #F59E0B;
    }
    
    .cookie-text {
      margin-bottom: 20px;
      line-height: 1.6;
    }
    
    .cookie-buttons {
      display: flex;
      gap: 15px;
    }
    
    .cookie-btn {
      padding: 10px 20px;
      border-radius: 5px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .cookie-btn.accept {
      background: #10B981;
      color: white;
    }
    
    .cookie-btn.reject {
      background: #EF4444;
      color: white;
    }
    
    .cookie-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
    
    .cookie-bg {
      position: absolute;
      top: 0;
      right: 0;
      opacity: 0.1;
      font-size: 10rem;
      z-index: 1;
    }
    
    .status {
      margin-top: 20px;
      padding: 15px;
      border-radius: 8px;
      font-weight: 600;
      display: none;
    }
    
    .status.active {
      display: block;
    }
    
    .status.accepted {
      background: rgba(16, 185, 129, 0.2);
      border: 2px solid #10B981;
      color: #10B981;
    }
    
    .status.rejected {
      background: rgba(239, 68, 68, 0.2);
      border: 2px solid #EF4444;
      color: #EF4444;
    }
    
    .reset-btn {
      background: #3B82F6;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 600;
      margin-top: 20px;
      transition: background 0.3s;
    }
    
    .reset-btn:hover {
      background: #2563EB;
    }
    
    footer {
      background: #1F2937;
      color: white;
      text-align: center;
      padding: 20px;
      font-size: 0.9rem;
    }
    
    .footer-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 15px;
    }
    
    .footer-links a {
      color: #F59E0B;
      text-decoration: none;
      transition: all 0.3s;
    }
    
    .footer-links a:hover {
      color: #3B82F6;
      transform: translateY(-2px);
    }
    
    .highlight {
      background: linear-gradient(120deg, rgba(59, 130, 246, 0.3), rgba(16, 185, 129, 0.3));
      padding: 3px 6px;
      border-radius: 4px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">üí™</div>
      <h1>Cookie Consent Solution</h1>
      <p class="tagline">Fix for persistent cookie banner in GYMMMER workout hub</p>
    </header>
    
    <div class="content">
      <div class="problem">
        <h2><i class="fas fa-exclamation-triangle"></i> The Problem</h2>
        <p>Your cookie consent banner appears on every page refresh, even after users have made their choice. This happens because:</p>
        
        <ul class="issue-list">
          <li>The <span class="highlight">localStorage</span> value isn't being properly checked on page load</li>
          <li>Event listeners for accept/reject buttons are not correctly implemented</li>
          <li>The DOMContentLoaded event listener timing causes issues</li>
          <li>The banner visibility isn't properly managed based on user's choice</li>
        </ul>
        
        <p>This creates a poor user experience as visitors have to dismiss the banner repeatedly.</p>
      </div>
      
      <div class="solution">
        <h2><i class="fas fa-check-circle"></i> The Solution</h2>
        <p>Here's the fixed JavaScript code that ensures the cookie banner only appears once:</p>
        
        <div class="code-block">
          <div class="code-header">
            <span>Fixed JavaScript Code</span>
            <button class="copy-btn" onclick="copyCode()">Copy Code</button>
          </div>
          <pre><code>// Fixed Cookie Consent Code
document.addEventListener('DOMContentLoaded', function() {
  const banner = document.getElementById('cookie-consent');
  const acceptBtn = document.getElementById('cookie-accept');
  const rejectBtn = document.getElementById('cookie-reject');
  
  // Check if consent has already been given
  const consent = localStorage.getItem('cookieConsent');
  
  if (consent === null) {
    // Show banner if no consent decision exists
    banner.classList.remove('hidden');
  }
  
  // Set up event listeners
  acceptBtn.addEventListener('click', function() {
    localStorage.setItem('cookieConsent', 'accepted');
    banner.classList.add('hidden');
    updateStatus('accepted');
  });
  
  rejectBtn.addEventListener('click', function() {
    localStorage.setItem('cookieConsent', 'rejected');
    banner.classList.add('hidden');
    updateStatus('rejected');
  });
  
  // Update status display
  function updateStatus(status) {
    const statusEl = document.getElementById('status');
    statusEl.textContent = `Cookie consent ${status}`;
    statusEl.className = `status active ${status}`;
  }
  
  // Show current status on page load
  if (consent) {
    updateStatus(consent);
  }
});</code></pre>
        </div>
        
        <div class="solution-points">
          <div class="point">
            <div class="point-icon"><i class="fas fa-check"></i></div>
            <div>
              <strong>Proper localStorage Check</strong> - Correctly checks for existing consent decision
            </div>
          </div>
          
          <div class="point">
            <div class="point-icon"><i class="fas fa-check"></i></div>
            <div>
              <strong>Direct Event Handling</strong> - Buttons directly set localStorage and hide banner
            </div>
          </div>
          
          <div class="point">
            <div class="point-icon"><i class="fas fa-check"></i></div>
            <div>
              <strong>DOMContentLoaded</strong> - Uses proper event listener timing
            </div>
          </div>
          
          <div class="point">
            <div class="point-icon"><i class="fas fa-check"></i></div>
            <div>
              <strong>Status Tracking</strong> - Clear visual feedback for user's choice
            </div>
          </div>
        </div>
        
        <div class="cookie-demo">
          <div class="cookie-bg">üç™</div>
          <div class="cookie-content">
            <h3 class="cookie-title">Cookie Consent Demo</h3>
            <p class="cookie-text">We use cookies to enhance your experience. By clicking "Accept", you agree to our use of cookies.</p>
            
            <div class="cookie-buttons">
              <button class="cookie-btn accept" id="demo-accept">Accept</button>
              <button class="cookie-btn reject" id="demo-reject">Reject</button>
            </div>
            
            <div id="status" class="status"></div>
            <button class="reset-btn" id="reset-btn">Reset Consent</button>
          </div>
        </div>
      </div>
    </div>
    
    <footer>
      <p>GYMMMER Workout Hub &copy; 2023 | Cookie Consent Solution</p>
      <div class="footer-links">
        <a href="#">Privacy Policy</a>
        <a href="#">Terms of Service</a>
        <a href="#">Contact Us</a>
      </div>
    </footer>
  </div>

  <script>
    // Implement the cookie consent solution
    document.addEventListener('DOMContentLoaded', function() {
      const banner = document.getElementById('cookie-consent');
      const acceptBtn = document.getElementById('cookie-accept');
      const rejectBtn = document.getElementById('cookie-reject');
      
      // For demo purposes
      const demoBanner = document.querySelector('.cookie-demo');
      const demoAccept = document.getElementById('demo-accept');
      const demoReject = document.getElementById('demo-reject');
      const resetBtn = document.getElementById('reset-btn');
      const statusEl = document.getElementById('status');
      
      // Check if consent has already been given
      let consent = localStorage.getItem('cookieConsent');
      
      function updateStatus(status) {
        statusEl.textContent = `Cookie consent ${status}`;
        statusEl.className = `status active ${status}`;
      }
      
      if (consent) {
        updateStatus(consent);
      }
      
      // Demo accept button
      demoAccept.addEventListener('click', function() {
        localStorage.setItem('cookieConsent', 'accepted');
        demoBanner.style.backgroundColor = 'rgba(16, 185, 129, 0.3)';
        updateStatus('accepted');
      });
      
      // Demo reject button
      demoReject.addEventListener('click', function() {
        localStorage.setItem('cookieConsent', 'rejected');
        demoBanner.style.backgroundColor = 'rgba(239, 68, 68, 0.3)';
        updateStatus('rejected');
      });
      
      // Reset button
      resetBtn.addEventListener('click', function() {
        localStorage.removeItem('cookieConsent');
        demoBanner.style.backgroundColor = '#1F2937';
        statusEl.className = 'status';
        statusEl.textContent = '';
      });
    });
    
    // Copy code function
    function copyCode() {
      const code = document.querySelector('.code-block code').innerText;
      navigator.clipboard.writeText(code)
        .then(() => {
          const btn = document.querySelector('.copy-btn');
          btn.textContent = 'Copied!';
          setTimeout(() => {
            btn.textContent = 'Copy Code';
          }, 2000);
        });
    }
  </script>
</body>
</html>
